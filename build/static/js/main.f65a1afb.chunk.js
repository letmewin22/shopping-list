(this["webpackJsonpshopping-list"]=this["webpackJsonpshopping-list"]||[]).push([[0],{31:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var r,i,a,c,s,o,u,l=n(0),b=n(1),p=n.n(b),h=n(23),d=n.n(h),f=(n(31),n(2)),j=n.n(f),O=n(5),m=n(12),v=n(55),g=function(t){var e=t.el,n=t.toggle,r=t.remove;return Object(l.jsx)(v.a,{children:function(){return Object(l.jsxs)("li",{className:"list-group-item shopping-list__item ".concat(e.checked&&"shopping-list__item--checked"),children:[Object(l.jsx)("span",{children:e.value}),Object(l.jsxs)("div",{className:"shopping-list__item-btns",children:[Object(l.jsx)("button",{onClick:n.bind(null,e),"aria-label":"done",children:Object(l.jsx)("i",{className:"green bi bi-bag-check"})}),Object(l.jsx)("button",{onClick:r.bind(null,e),"aria-label":"delete",children:Object(l.jsx)("i",{className:"red bi bi-x-circle"})})]})]})}})},x=n(11),k=n(24),w=n(4),y=new(function(){function t(){Object(x.a)(this,t),this.loading=!0,Object(w.d)(this)}return Object(k.a)(t,[{key:"setLoader",value:function(t){this.loading=t}}]),t}()),I=function(){return Object(l.jsx)("div",{className:"spinner-border",role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},C=n(25),N=n(6),_=n(7),L=(n(34),n(9)),z=n.n(L),E=(r=w.e.shallow,i=function t(){Object(x.a)(this,t),Object(N.a)(this,"list",a,this),Object(N.a)(this,"addItem",c,this),Object(N.a)(this,"removeItem",s,this),Object(N.a)(this,"toggleCheckItem",o,this),Object(N.a)(this,"getItems",u,this)},a=Object(_.a)(i.prototype,"list",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(_.a)(i.prototype,"addItem",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=Object(O.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.value.trim().length>0)){e.next=5;break}return e.next=3,z.a.post("http://localhost:5000/api/list/",n);case 3:201===(r=e.sent).status&&(t.list=[].concat(Object(C.a)(t.list),[r.data.body]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=Object(_.a)(i.prototype,"removeItem",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=Object(O.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.delete("http://localhost:5000/api/list/".concat(n._id));case 2:t.list=t.list.filter((function(t){return t!==n}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=Object(_.a)(i.prototype,"toggleCheckItem",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=Object(O.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.put("http://localhost:5000/api/list/".concat(n._id),{checked:n.checked?n.checked=!1:n.checked=!0});case 2:r=e.sent,t.list=t.list.map((function(t){return t._id===r.data._id?r.data:t}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),u=Object(_.a)(i.prototype,"getItems",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return Object(O.a)(j.a.mark((function e(){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("http://localhost:5000/api/list/");case 2:n=e.sent,r=n.data,t.list=r;case 5:case"end":return e.stop()}}),e)})))}}),i),F=p.a.createContext({}),P=new E,S=function(t){var e=t.children;return Object(l.jsx)(F.Provider,{value:{shoppingList:P},children:e})},B=function(){return p.a.useContext(F)},D=function(){var t=B().shoppingList,e=Object(b.useState)([]),n=Object(m.a)(e,2),r=n[0],i=n[1];Object(b.useEffect)((function(){(function(){var e=Object(O.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getItems();case 2:i(t.list),y.setLoader(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(b.useEffect)((function(){i(t.list)}),[t.list]);var a=function(){var e=Object(O.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.toggleCheckItem(n);case 2:i(t.list);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(O.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeItem(n);case 2:i(t.list);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(v.a,{children:function(){return Object(l.jsxs)("ul",{className:"list-group shopping-list",children:[y.loading&&Object(l.jsx)(I,{}),r.map((function(t){return Object(l.jsx)(g,{el:t,toggle:a,remove:c},t._id)})),!r.length&&!y.loading&&Object(l.jsx)("span",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u043f\u0443\u0441\u0442"})]})}})},J=(n(53),function(){var t=Object(b.useState)(""),e=Object(m.a)(t,2),n=e[0],r=e[1],i=B().shoppingList,a=function(t){r(t.target.value)},c=function(){var t=Object(O.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={checked:!1,value:n},t.next=3,i.addItem(e);case 3:r("");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(t){"Enter"===t.key&&c()};return Object(l.jsx)(v.a,{children:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"}),Object(l.jsxs)("div",{className:"add-item-input",children:[Object(l.jsx)("input",{value:n,onKeyDown:s,onChange:a,className:"form-control list-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c","aria-label":"input"}),Object(l.jsx)("button",{onClick:c,type:"button",className:"btn btn-primary add-btn",children:Object(l.jsx)("i",{className:"bi bi-plus"})})]}),Object(l.jsx)(D,{})]})}})}),T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),i(t),a(t),c(t)}))};d.a.render(Object(l.jsx)(S,{children:Object(l.jsx)(J,{})}),document.getElementById("root")),T()}},[[54,1,2]]]);
//# sourceMappingURL=main.f65a1afb.chunk.js.map