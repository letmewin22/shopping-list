(this["webpackJsonpshopping-list"]=this["webpackJsonpshopping-list"]||[]).push([[0],{31:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,o,u,l=n(0),p=n(1),b=n.n(p),h=n(23),d=n.n(h),f=(n(31),n(2)),j=n.n(f),m=n(5),v=n(12),g=n(55),O=function(e){var t=e.el,n=e.toggle,r=e.remove;return Object(l.jsx)(g.a,{children:function(){return Object(l.jsxs)("li",{className:"list-group-item shopping-list__item ".concat(t.checked&&"shopping-list__item--checked"),children:[Object(l.jsx)("span",{children:t.value}),Object(l.jsxs)("div",{className:"shopping-list__item-btns",children:[Object(l.jsx)("button",{onClick:n.bind(null,t),"aria-label":"done",children:Object(l.jsx)("i",{className:"green bi bi-bag-check"})}),Object(l.jsx)("button",{onClick:r.bind(null,t),"aria-label":"delete",children:Object(l.jsx)("i",{className:"red bi bi-x-circle"})})]})]})}})},x=n(11),k=n(24),w=n(4),y=new(function(){function e(){Object(x.a)(this,e),this.loading=!0,Object(w.d)(this)}return Object(k.a)(e,[{key:"setLoader",value:function(e){this.loading=e}}]),e}()),I=function(){return Object(l.jsx)("div",{className:"spinner-border",role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},C=n(25),N=n(6),_=n(7),L=(n(34),n(9)),z=n.n(L),E="https://mysterious-caverns-45772.herokuapp.com",F=(r=w.e.shallow,c=function e(){Object(x.a)(this,e),Object(N.a)(this,"list",a,this),Object(N.a)(this,"addItem",i,this),Object(N.a)(this,"removeItem",s,this),Object(N.a)(this,"toggleCheckItem",o,this),Object(N.a)(this,"getItems",u,this)},a=Object(_.a)(c.prototype,"list",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(_.a)(c.prototype,"addItem",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(m.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.value.trim().length>0)){t.next=11;break}return t.prev=1,t.next=4,z.a.post("".concat(E,"/api/list/"),n);case 4:201===(r=t.sent).status&&(e.list=[].concat(Object(C.a)(e.list),[r.data.body])),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),s=Object(_.a)(c.prototype,"removeItem",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(m.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.a.delete("".concat(E,"/api/list/").concat(n._id));case 3:e.list=e.list.filter((function(e){return e!==n})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}}),o=Object(_.a)(c.prototype,"toggleCheckItem",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(m.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.a.put("".concat(E,"/api/list/").concat(n._id),{checked:n.checked?n.checked=!1:n.checked=!0});case 3:r=t.sent,e.list=e.list.map((function(e){return e._id===r.data._id?r.data:e})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),u=Object(_.a)(c.prototype,"getItems",[w.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(m.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.a.get("".concat(E,"/api/list/"));case 3:n=t.sent,r=n.data,e.list=r,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))}}),c),P=b.a.createContext({}),S=new F,B=function(e){var t=e.children;return Object(l.jsx)(P.Provider,{value:{shoppingList:S},children:t})},D=function(){return b.a.useContext(P)},J=function(){var e=D().shoppingList,t=Object(p.useState)([]),n=Object(v.a)(t,2),r=n[0],c=n[1];Object(p.useEffect)((function(){(function(){var t=Object(m.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getItems();case 2:c(e.list),y.setLoader(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(p.useEffect)((function(){c(e.list)}),[e.list]);var a=function(){var t=Object(m.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.toggleCheckItem(n);case 2:c(e.list);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(m.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.removeItem(n);case 2:c(e.list);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)(g.a,{children:function(){return Object(l.jsxs)("ul",{className:"list-group shopping-list",children:[y.loading&&Object(l.jsx)(I,{}),r.map((function(e){return Object(l.jsx)(O,{el:e,toggle:a,remove:i},e._id)})),!r.length&&!y.loading&&Object(l.jsx)("span",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u043f\u0443\u0441\u0442"})]})}})},T=(n(53),function(){var e=Object(p.useState)(""),t=Object(v.a)(e,2),n=t[0],r=t[1],c=D().shoppingList,a=function(e){r(e.target.value)},i=function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={checked:!1,value:n},e.next=3,c.addItem(t);case 3:r("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e){"Enter"===e.key&&i()};return Object(l.jsx)(g.a,{children:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"}),Object(l.jsxs)("div",{className:"add-item-input",children:[Object(l.jsx)("input",{value:n,onKeyDown:s,onChange:a,className:"form-control list-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c","aria-label":"input"}),Object(l.jsx)("button",{onClick:i,type:"button",className:"btn btn-primary add-btn",children:Object(l.jsx)("i",{className:"bi bi-plus"})})]}),Object(l.jsx)(J,{})]})}})}),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};d.a.render(Object(l.jsx)(B,{children:Object(l.jsx)(T,{})}),document.getElementById("root")),A()}},[[54,1,2]]]);
//# sourceMappingURL=main.043b8b90.chunk.js.map